
:root{--bg:#0b1220;--fg:#e5e7eb;--muted:#9ca3af;--card:#111827;--border:#334155;--accent:#22c55e;--danger:#ef4444}
*{box-sizing:border-box}
body{margin:0;font:14px/1.6 system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI","Noto Sans JP",sans-serif;background:var(--bg);color:var(--fg)}
.topbar{display:flex;justify-content:space-between;align-items:center;padding:10px 14px;border-bottom:1px solid var(--border);position:sticky;top:0;background:var(--bg);z-index:10}
.brand{font-weight:700}
.stats{color:var(--muted)}
.nav{display:flex;gap:8px;padding:10px 14px;border-bottom:1px solid var(--border)}
.nav button{padding:8px 10px;border:1px solid var(--border);background:#0f172a;color:var(--fg);border-radius:8px;cursor:pointer}
.nav button.active{outline:2px solid var(--accent)}
.panel{background:var(--card);border:1px solid var(--border);border-radius:12px;margin:14px;padding:14px}
.row{display:flex;flex-wrap:wrap;gap:12px;align-items:center}
.input, select{padding:8px;border:1px solid var(--border);border-radius:8px;background:#0f172a;color:var(--fg)}
.grow{flex:1}
.btn{padding:8px 12px;border-radius:8px;border:1px solid var(--border);background:#111827;color:var(--fg);cursor:pointer}
.btn.primary{background:var(--accent);color:#02140a;border-color:transparent;font-weight:700}
.btn.secondary{background:#0b1220}
.btn.danger{background:#1f0b0b;border-color:#7f1d1d;color:#fecaca}
.term{padding:10px;border-bottom:1px dashed var(--border);cursor:pointer}
.tag{display:inline-block;background:#0f172a;border:1px solid var(--border);border-radius:999px;padding:2px 8px;margin-right:6px;font-size:12px}
.stack{padding:0 14px 24px}
.qcard{background:#0f172a;border:1px solid var(--border);border-radius:12px;padding:14px;margin-top:10px}
.qhead{font-size:18px;font-weight:700;margin-bottom:6px}
.qmeta{color:var(--muted);margin-bottom:8px}
.choices{display:grid;grid-template-columns:1fr;gap:8px;margin:8px 0}
.choice{padding:10px;border:1px solid var(--border);border-radius:10px;background:#111827;color:var(--fg);cursor:pointer;text-align:left}
.choice.correct{border-color:#16a34a;background:#052915}
.choice.wrong{border-color:#ef4444;background:#2a0b0b}
.progress{height:8px;background:#0f172a;border:1px solid var(--border);border-radius:999px;margin:8px 14px}
.progress .bar{height:100%;background:var(--accent);border-radius:999px;width:0%}
.diagram-card{padding:10px;background:#0f172a;border:1px solid var(--border);border-radius:12px}
.diagram-svg{width:100%;height:auto}
.diagram-hint{color:var(--muted);font-size:12px;margin-top:6px}
.muted{color:var(--muted)}
@media (min-width:720px){.choices{grid-template-columns:1fr 1fr}}
